# Webhooks

Webhooks are notifications about API events, sent as they occur. You can configure [webhook endpoints](https://stripe.com/docs/webhooks/) via the API to be notified about events that happen in your account or connected accounts.

## **Endpoints**

| **Name** | Description |
| :--- | :--- |
| **Create** | \[POST\] https://issuing-api.dlocal.com/webhooks |
| **Update** | \[PUT\] https://issuing-api.dlocal.com/webhooks/:webhook\_id |
| **Retrieve** | \[GET\] https://issuing-api.dlocal.com/webhooks/:webhook\_id |
| **List** | \[GET\] https://issuing-api.dlocal.com/dlocal-api-issuing/webhooks |
| **Delete** | \[DELETE\] https://issuing-api.dlocal.com/webhooks/:webhook\_id |

## The webhook object

### **Attributes**

**Body**

<table>
  <thead>
    <tr>
      <th style="text-align:left">Property</th>
      <th style="text-align:left"><b>Type</b>
      </th>
      <th style="text-align:left"><b>Description</b>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align:left"><code>uuid</code>
      </td>
      <td style="text-align:left">String</td>
      <td style="text-align:left">Webhook unique identifier (autogenerated).</td>
    </tr>
    <tr>
      <td style="text-align:left"><code>name</code>
      </td>
      <td style="text-align:left">String</td>
      <td style="text-align:left">Webhook name.</td>
    </tr>
    <tr>
      <td style="text-align:left"><code>description</code>
      </td>
      <td style="text-align:left">String</td>
      <td style="text-align:left">Webhook description.</td>
    </tr>
    <tr>
      <td style="text-align:left"><code>events</code>
      </td>
      <td style="text-align:left">String</td>
      <td style="text-align:left">List of available events (for subscriber all events, send only ALL string).</td>
    </tr>
    <tr>
      <td style="text-align:left"><code>url</code>
      </td>
      <td style="text-align:left">String</td>
      <td style="text-align:left">Webhook endpoint url.</td>
    </tr>
    <tr>
      <td style="text-align:left"><code>is_active</code>
      </td>
      <td style="text-align:left">Boolean</td>
      <td style="text-align:left">
        <p></p>
        <p>Webhook enabled or disabled.</p>
      </td>
    </tr>
    <tr>
      <td style="text-align:left"><code>headers</code>
      </td>
      <td style="text-align:left">Object</td>
      <td style="text-align:left">Optionals headers.<b>*</b>
      </td>
    </tr>
  </tbody>
</table>

#### \*Headers <a id="headers"></a>

<table>
  <thead>
    <tr>
      <th style="text-align:left">Property</th>
      <th style="text-align:left"><b>Type</b>
      </th>
      <th style="text-align:left"><b>Description</b>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align:left"><code>auth</code>
      </td>
      <td style="text-align:left">String</td>
      <td style="text-align:left">
        <p></p>
        <p>Two types of Authentication header:</p>
        <ul>
          <li>Basic: requires basic_username and basic_password. This header will be
            sent as Basic bas64(basic_username:basic_password)</li>
          <li>Secret-key: only requires the secret key string. This header will be sent
            as Bearer secret_key</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td style="text-align:left"><code>custom</code>
      </td>
      <td style="text-align:left">String</td>
      <td style="text-align:left">Other constants headers that your endpoint requires.</td>
    </tr>
  </tbody>
</table>

### Example Object

{% tabs %}
{% tab title="Webhook Object" %}
```text
{
   "uuid": "ISGW-4-585a16b094d64ae99d019caf27795536",   
   "name": "webhook_1",
   "description": "My webhook #1",
   "events": [
       "TRANSACTION_EVENT"
   ],
   "headers": {
       "auth": {
           "basic_username": "my_user",
           "basic_password": "my_pass",
           "secret_key": "my_secret_key"
       },
       "custom": {
           "header_key_1": "value_1",
           "header_key_2": "value_2"
       }
   },
   "url": "http://merchant-host.com/callback",
   "is_active": true
}
```
{% endtab %}
{% endtabs %}

{% api-method method="post" host="https://issuing-api.dlocal.com/" path="issuing/webhooks" %}
{% api-method-summary %}
Create
{% endapi-method-summary %}

{% api-method-description %}

{% endapi-method-description %}

{% api-method-spec %}
{% api-method-request %}
{% api-method-body-parameters %}
{% api-method-parameter name="name" type="string" required=true %}
Webhook name
{% endapi-method-parameter %}

{% api-method-parameter name="description" type="string" required=false %}
Webhook description
{% endapi-method-parameter %}

{% api-method-parameter name="url" type="string" required=true %}
Webhook endpoint url
{% endapi-method-parameter %}

{% api-method-parameter name="events" type="string" required=true %}
List of available events \(for subscriber all events, send only ALL string\)
{% endapi-method-parameter %}

{% api-method-parameter name="headers" type="string" required=false %}
Optionals headers
{% endapi-method-parameter %}

{% api-method-parameter name="is\_active" type="boolean" required=true %}
Webhook enabled or disabled
{% endapi-method-parameter %}
{% endapi-method-body-parameters %}
{% endapi-method-request %}

{% api-method-response %}
{% api-method-response-example httpCode=200 %}
{% api-method-response-example-description %}

{% endapi-method-response-example-description %}

```
{
   "uuid": "ISGW-4-86d652010e3c4a1db61ef6420ebf4197",
   "name": "webhook_1",
   "description": "My webhook #1",
   "url": "http://merchant-host.com/callback",
   "events": [
       "TRANSACTION_EVENT"
   ],
   "headers": {
       "auth": {},
       "custom": {
           "header_key_1": "value_1"
       }
   },   
   "is_active": false,
   "creation_date": "2021-08-23T20:53:06.276Z",
   "last_updated": "2021-08-23T20:53:06.276Z"
}
```
{% endapi-method-response-example %}
{% endapi-method-response %}
{% endapi-method-spec %}
{% endapi-method %}

Note: The headers only are showed when you create this webhook. You don't have to modify the headers later. 

**Request**

```text
{
   "name": "webhook_1",
   "description": "My webhook #1",   
   "url": "http://merchant-host.com/callback",
   "events": [
       "TRANSACTION_EVENT"
   ],
   "headers": {
       "custom": {
           "header_key_1": "value_1"
       }
   },
   "is_active": false
}
```

{% api-method method="put" host="https://issuing-api.dlocal.com/" path="issuing/webhooks/{webhook\_uuid}" %}
{% api-method-summary %}
Update
{% endapi-method-summary %}

{% api-method-description %}

{% endapi-method-description %}

{% api-method-spec %}
{% api-method-request %}
{% api-method-path-parameters %}
{% api-method-parameter name="webhook\_uuid" type="string" required=false %}
Webhook unique identifier
{% endapi-method-parameter %}
{% endapi-method-path-parameters %}

{% api-method-body-parameters %}
{% api-method-parameter name="name" type="string" required=true %}
Webhook name
{% endapi-method-parameter %}

{% api-method-parameter name="description" type="string" required=false %}
Webhook description
{% endapi-method-parameter %}

{% api-method-parameter name="url" type="string" required=true %}
Webhook endpoint url
{% endapi-method-parameter %}

{% api-method-parameter name="events" type="string" required=true %}
List of available events \(for subscriber all events, send only ALL string\)
{% endapi-method-parameter %}

{% api-method-parameter name="is\_active" type="string" required=true %}
Webhook enabled or disabled
{% endapi-method-parameter %}
{% endapi-method-body-parameters %}
{% endapi-method-request %}

{% api-method-response %}
{% api-method-response-example httpCode=200 %}
{% api-method-response-example-description %}

{% endapi-method-response-example-description %}

```
{
   "uuid": "ISGW-4-86d652010e3c4a1db61ef6420ebf4197",
   "name": "webhook_1",
   "description": "My webhook #1 - modified",
   "url": "http://merchant-host.com/callback",
   "events": [
       "ALL"
   ],
   "is_active": true,
   "creation_date": "2021-08-23T20:54:34.276Z",
   "last_updated": "2021-08-23T20:54:34.276Z"
}
```
{% endapi-method-response-example %}
{% endapi-method-response %}
{% endapi-method-spec %}
{% endapi-method %}

**Note:** all of fields will be updated.

**Request**

```text
{
   "name": "webhook_1",
   "description": "My webhook #1 - modified",   
   "url": "http://merchant-host.com/callback",
   "events": [
       "ALL"
   ],
   "is_active": true
}
```

{% api-method method="get" host="https://issuing-api.dlocal.com/" path="issuing/webhooks/{webhook\_uuid}" %}
{% api-method-summary %}
Retrieve
{% endapi-method-summary %}

{% api-method-description %}

{% endapi-method-description %}

{% api-method-spec %}
{% api-method-request %}
{% api-method-path-parameters %}
{% api-method-parameter name="webhook\_uuid" type="string" required=true %}
Webhook unique identifier. 
{% endapi-method-parameter %}
{% endapi-method-path-parameters %}
{% endapi-method-request %}

{% api-method-response %}
{% api-method-response-example httpCode=200 %}
{% api-method-response-example-description %}

{% endapi-method-response-example-description %}

```
{
   "uuid": "ISGW-4-86d652010e3c4a1db61ef6420ebf4197",
   "name": "webhook_1",
   "description": "My webhook #1 - modified",
   "url": "http://merchant-host.com/callback",
   "events": [
       "TRANSACTION_EVENT"
   ],
   "is_active": true,
   "creation_date": "2021-08-23T20:54:34.276Z",
   "last_updated": "2021-08-23T20:54:34.276Z"
}
```
{% endapi-method-response-example %}
{% endapi-method-response %}
{% endapi-method-spec %}
{% endapi-method %}

{% api-method method="get" host="https://issuing-api.dlocal.com/" path="issuing/webhooks" %}
{% api-method-summary %}
List
{% endapi-method-summary %}

{% api-method-description %}

{% endapi-method-description %}

{% api-method-spec %}
{% api-method-request %}
{% api-method-query-parameters %}
{% api-method-parameter name="page\_size" type="integer" required=false %}
Limit to webhooks to retrieve. Default is 100 and max is 500. 
{% endapi-method-parameter %}

{% api-method-parameter name="page\_number" type="integer" required=false %}
Webhooks to start. By default is 0. 
{% endapi-method-parameter %}
{% endapi-method-query-parameters %}
{% endapi-method-request %}

{% api-method-response %}
{% api-method-response-example httpCode=200 %}
{% api-method-response-example-description %}

{% endapi-method-response-example-description %}

```
{
   "content": [
      {
         "uuid": "ISGW-4-86d652010e3c4a1db61ef6420ebf4197",
         "name": "webhook_1",
         "description": "My webhook #1 - modified",
         "url": "http://merchant-host.com/callback",
         "events": [
             "TRANSACTION_EVENT"
         ],
         "is_active": true,
         "creation_date": "2021-08-23T20:54:34.276Z",
         "last_updated": "2021-08-23T20:54:34.276Z"
      },
      {
         ...
      }
   ]
}
```
{% endapi-method-response-example %}
{% endapi-method-response %}
{% endapi-method-spec %}
{% endapi-method %}

{% api-method method="delete" host="https://issuing-api.dlocal.com/" path="issuing/webhooks/{webhook\_uuid}" %}
{% api-method-summary %}
Delete
{% endapi-method-summary %}

{% api-method-description %}

{% endapi-method-description %}

{% api-method-spec %}
{% api-method-request %}
{% api-method-path-parameters %}
{% api-method-parameter name="webhook\_uuid" type="string" required=true %}
Webhook unique identifier. 
{% endapi-method-parameter %}
{% endapi-method-path-parameters %}
{% endapi-method-request %}

{% api-method-response %}
{% api-method-response-example httpCode=204 %}
{% api-method-response-example-description %}

{% endapi-method-response-example-description %}

```

```
{% endapi-method-response-example %}
{% endapi-method-response %}
{% endapi-method-spec %}
{% endapi-method %}



